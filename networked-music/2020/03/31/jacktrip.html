<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Testing out Jacktrip | The SMC Blog</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Testing out Jacktrip" />
<meta name="author" content="Jackson Goode, Thomas Anda, Ulrik Halmøy" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="As we have begun settling into the COVID tech cocoon of isolation, we test out a technology that might be able to fulfull our dreams of real-time audio communication." />
<meta property="og:description" content="As we have begun settling into the COVID tech cocoon of isolation, we test out a technology that might be able to fulfull our dreams of real-time audio communication." />
<link rel="canonical" href="https://smc-aau-cph.github.io/smc-cph.github.io/networked-music/2020/03/31/jacktrip.html" />
<meta property="og:url" content="https://smc-aau-cph.github.io/smc-cph.github.io/networked-music/2020/03/31/jacktrip.html" />
<meta property="og:site_name" content="The SMC Blog" />
<meta property="og:image" content="https://www.uio.no/english/studies/programmes/SMC-master/blog/assets/image/2020_04_01_jackgo_jacktrip.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-31T10:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.uio.no/english/studies/programmes/SMC-master/blog/assets/image/2020_04_01_jackgo_jacktrip.png" />
<meta property="twitter:title" content="Testing out Jacktrip" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jackson Goode, Thomas Anda, Ulrik Halmøy"},"dateModified":"2020-03-31T10:00:00+00:00","datePublished":"2020-03-31T10:00:00+00:00","description":"As we have begun settling into the COVID tech cocoon of isolation, we test out a technology that might be able to fulfull our dreams of real-time audio communication.","headline":"Testing out Jacktrip","image":"https://www.uio.no/english/studies/programmes/SMC-master/blog/assets/image/2020_04_01_jackgo_jacktrip.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://smc-aau-cph.github.io/smc-cph.github.io/networked-music/2020/03/31/jacktrip.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://smc-aau-cph.github.io/smc-cph.github.io/assets/image/2022_07_20_stefanof_SMC_logo_grey.png"},"name":"Jackson Goode, Thomas Anda, Ulrik Halmøy"},"url":"https://smc-aau-cph.github.io/smc-cph.github.io/networked-music/2020/03/31/jacktrip.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://smc-aau-cph.github.io/smc-cph.github.io/feed.xml" title="The SMC Blog" /></head>
<body><header class="site-header" role="banner"><div class="hamburger-menu-container">
  <nav>
    <ul>
      
      <li class="page-link-hamburger">
        

        <a href="#" class="drop-btn-hamburger" onclick="handleMenuClick(this)"
          >Topics</a
        >
        <ul class="dropdown-hamburger">
          
          <li><a href="/interactive-music/">New Interfaces for Musical Expression (NIME)</a></li>
          
          <li><a href="/machine-learning/">Machine Learning for Media Experiences</a></li>
          
          <li><a href="/motion-capture/">Embodied Interaction</a></li>
          
          <li><a href="/networked-music/">Networked Music</a></li>
          
          <li><a href="/sonification/">Sonification</a></li>
          
          <li><a href="/sound-programming/">Sound Processing</a></li>
          
          <li><a href="/spatial-audio/">Spatial User Interfaces</a></li>
          
          <li><a href="/other/">Other</a></li>
          
          <li><a href="/alltopics/">All Topics</a></li>
          
        </ul>

        
      </li>
      
      <li class="page-link-hamburger">
        

        <a href="#" class="drop-btn-hamburger" onclick="handleMenuClick(this)"
          >Projects</a
        >
        <ul class="dropdown-hamburger">
          
          <li><a href="/mini-projects/">Course Mini Projects</a></li>
          
          <li><a href="/applied-projects/">Semester Projects</a></li>
          
          <li><a href="/masters-thesis/">Master's Theses</a></li>
          
          <li><a href="/projects/">All Projects</a></li>
          
        </ul>

        
      </li>
      
      <li class="page-link-hamburger">
        
        <a href="/people/">People</a>
        
      </li>
      
      <li class="page-link-hamburger">
        
        <a href="/about/">About</a>
        
      </li>
      
      <li class="page-link-hamburger">
        
        <a href="/Guides/">Guides</a>
        
      </li>
      
      <li class="page-link-hamburger">
        
        <a href="/search/">Search</a>
        
      </li>
      
    </ul>
  </nav>
</div>
<div class="wrapper">
        <div class="title-and-logo-wrapper">
            <a href="/">
                <img class="site-logo" src="/assets/image/2022_07_20_stefanof_SMC_logo_grey.png" />
            </a>
            <p class="site-title">
            The SMC Blog
            </p>
        </div>

        <nav class="site-nav">
        <ul>
            
            <li class="page-link">
            

                <a href='#' class="drop-btn" onclick="handleMenuClick(this)">Topics</a>
                <ul class="dropdown">
                
                <li><a href="/interactive-music/">New Interfaces for Musical Expression (NIME)</a></li>
                
                <li><a href="/machine-learning/">Machine Learning for Media Experiences</a></li>
                
                <li><a href="/motion-capture/">Embodied Interaction</a></li>
                
                <li><a href="/networked-music/">Networked Music</a></li>
                
                <li><a href="/sonification/">Sonification</a></li>
                
                <li><a href="/sound-programming/">Sound Processing</a></li>
                
                <li><a href="/spatial-audio/">Spatial User Interfaces</a></li>
                
                <li><a href="/other/">Other</a></li>
                
                <li><a href="/alltopics/">All Topics</a></li>
                
                </ul>

            
            </li>
            
            <li class="page-link">
            

                <a href='#' class="drop-btn" onclick="handleMenuClick(this)">Projects</a>
                <ul class="dropdown">
                
                <li><a href="/mini-projects/">Course Mini Projects</a></li>
                
                <li><a href="/applied-projects/">Semester Projects</a></li>
                
                <li><a href="/masters-thesis/">Master's Theses</a></li>
                
                <li><a href="/projects/">All Projects</a></li>
                
                </ul>

            
            </li>
            
            <li class="page-link">
            
                <a href="/people/">People</a>
            
            </li>
            
            <li class="page-link">
            
                <a href="/about/">About</a>
            
            </li>
            
            <li class="page-link">
            
                <a href="/Guides/">Guides</a>
            
            </li>
            
            <li class="page-link">
            
                <a href="/search/">Search</a>
            
            </li>
            
        </ul>
        </nav>
        <nav class="hamburger-icon-nav"><div class="hamburger-icon-container" onclick="handleHamburgerClick(this)">
  <div class="hamburger-icon-div hamburger-bar1"></div>
  <div class="hamburger-icon-div hamburger-bar2"></div>
  <div class="hamburger-icon-div hamburger-bar3"></div>
</div>
</nav>
    </div>

  <script src="/utils/jquery.js"></script>
  <script src="/utils/hamburger-nav.js"></script>
  <script src="/utils/nav-dropdown-click-handler.js"></script>
</header>
<main class="page-content" aria-label="Content">

      <div class="wrapper">
        <article
  class="post h-entry"
  itemscope
  itemtype="http://schema.org/BlogPosting"
>
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline" align="left">
      Testing out Jacktrip
    </h1>
    <p class="post-meta">
      <time
        class="dt-published"
        datetime="2020-03-31T10:00:00+00:00"
        itemprop="datePublished"
      >Mar 31, 2020 •
      </time>
         
      <a href="/authors/jacksongoode.html">Jackson Goode,</a>
           
      <a href="/authors/thomasanda.html">Thomas Anda,</a>
           
      <a href="/authors/ulrikhalmoy.html">Ulrik Halmøy</a>
        </p>
  </header>

  <div class="post-content" itemprop="articleBody"><h2 id="introduction">Introduction</h2>

<p>In our latest assignment, we testing the efficacy of <a href="https://ccrma.stanford.edu/groups/soundwire/software/jacktrip/">Jacktrip</a>, a utility developed at CCRMA at Stanford for low-latency audio transmission between multiple clients. Jacktrip employs the <a href="https://jackaudio.org/">Jack protocol</a>, a high definition API for audio communication between applications. Jacktrip appears to be one of the few viable tools that, in theory, works on every operating system (Windows, macOS, Linux) which makes it a potentially worthwhile investment from the angle of usability and access alone. Could this software, built by leading researchers behind the Ivory walls of Stanford, be the skeleton key to our audio dreams. Let’s find out!</p>

<h2 id="installation-and-setup">Installation and setup</h2>

<p>It took us some time to set up Jacktrip. One of the reasons for that was due to the somewhat scattered documentation. At time of writing, Jacktrip version 1.2 has not been released as a standalone package, and needs to be built from the source code from <a href="https://cm-gitlab.stanford.edu/cc/jacktrip">here</a>.</p>

<p>There are three main steps involved, which we will go through here.</p>

<h3 id="1---downloading-jack">1 - Downloading Jack</h3>

<p>Jack is the underlying audio driver that Jacktrip is built on top of. There are maintained version of Jack. We will use Jack2. You should be able to just download it from <a href="https://jackaudio.org/downloads/">the official webpage</a> for all popular operating systems. However, we weren’t, so we’ll guide you through our alternative path.</p>

<h4 id="macos">MacOS</h4>

<p>We found out that the easiest way to install Jack on MacOS is by using the package manager <a href="https://brew.sh/">Homebrew</a>. Homebrew is a highly recommended tool for anyone developing anything on a Mac, so it’s likely going to be useful for other things as well. With Homebrew installed, you can install Jack by typing the following into your terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>jack
</code></pre></div></div>

<p>You can confirm that you have installed Jack by typing</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jackd <span class="nt">--version</span>
</code></pre></div></div>
<p>For ease of use, you must also install a graphical Jack client called <a href="https://github.com/jackaudio/jackaudio.github.com/releases/download/1.9.11/JackmacOS.0.92_b3.zip"><em>qjack</em></a>. You can find other mirrors for this install in Ben Loveridge’s <a href="https://docs.google.com/document/d/18pbu2xQRv521NKvHuYHjIVXRcLFqcDsqYnfKixyuyGg">guide</a>.</p>

<p>Once you have jack and qjack installed, open qjack, go to “Setup” and set <code class="language-plaintext highlighter-rouge">/usr/local/bin/jackd</code> (the location you installed the jack executable to) as the server path (see image below). Note that this is also where you can change other settings such as sample rate, audio interface, number of channels etc.</p>

<p><img src="https://i.imgur.com/NNB6hzG.png" alt="Settings" /></p>

<p>To confirm that Jack runs properly, press “Start”. It should look something like this:</p>

<p><img src="https://i.imgur.com/e0fHyn1.png" alt="Started" /></p>

<p>Now, by pressing “Connect”, there should be a patchin window showing sends and receives. If you connect as in the image below, you are sending your input to your output, so you should be able to hear yourself.</p>

<p><img src="https://i.imgur.com/TsMN9E2.png" alt="Loopback in Jack" /></p>

<h3 id="2----dowloading-jacktrip">2 -  Dowloading Jacktrip</h3>

<p>The <a href="https://github.com/jacktrip/jacktrip">GitHub repository</a> contains the code for Jacktrip version 1.2. If you are comfortable with building the project from the source code, you can proceed by cloning and then the repository.</p>

<p>Otherwise, we advise you to just download version 1.1 from one of these release pages:</p>

<h4 id="macos-1">MacOS</h4>

<p>https://ccrma.stanford.edu/software/jacktrip/osx/JackTrip.pkg</p>

<h4 id="windows">Windows</h4>

<p>https://ccrma.stanford.edu/~cc/153resources/win10/jacktripInstaller/</p>

<p>Verify that you have installed jacktrip by typing the following in your terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jacktrip <span class="nt">--version</span>
</code></pre></div></div>

<p>If you have version 1.1 (or 1.2 if you built it yourself), proceed to the next step.</p>

<h3 id="3---configuring-jacktrip">3 - Configuring Jacktrip</h3>

<p>In the most basic sense, Jacktrip could be as easy as:</p>

<ul>
  <li>one musician setting up a server with “-s”
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jacktrip <span class="nt">-s</span> <span class="c"># defaults to port 4464</span>
</code></pre></div>    </div>
  </li>
  <li>another musician connecting with “-c”
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jacktrip <span class="nt">-c</span> &lt;IP_ADDRESS&gt;
</code></pre></div>    </div>
  </li>
</ul>

<p>If there is a successful connection, you can navigate to the “Connect” tab in qjack to route the incoming audio wherever you want.</p>

<p><img src="https://www.uio.no/english/studies/programmes/SMC-master/blog/assets/image/2020_04_01_jackgo_jacktrip.png" alt="Connect" /></p>

<p>However, making Jacktrip work for us involved quite a few technical steps, such as forwarding ports on our home router and testing network connections with <code class="language-plaintext highlighter-rouge">iperf</code>. For a detailed walthrough, we advice you to follow Ben Loveridge’s <a href="https://docs.google.com/document/d/18pbu2xQRv521NKvHuYHjIVXRcLFqcDsqYnfKixyuyGg">guide</a> (alternatively available <a href="https://www.uio.no/english/studies/programmes/SMC-master/blog/assets/document/2020_03_31_ulrikah_networkedmusicperformance.pdf">here</a>). His guide is quite extensive and features a number of FAQ’s for any trouble one might run into during installation or optimization.</p>

<h3 id="troubleshooting">Troubleshooting</h3>

<p>Ben Loveridge’s <a href="https://docs.google.com/document/d/18pbu2xQRv521NKvHuYHjIVXRcLFqcDsqYnfKixyuyGg">guide</a> is the resource we recommend for troubleshooting most things with Jacktrip. For API documentation of Jacktrip you can read up on the <a href="https://ccrma.stanford.edu/groups/soundwire/software/jacktrip/">documentation</a>. However, the software documentation is old and is therefore likely to be outdated. Working with older software on newer operating systems, such as updates like macOS Catalina 10.15 that break functionality with a large number of apps, is always a challenge.</p>

<h2 id="testing-and-experience">Testing and experience</h2>
<p>After some initial struggles with setting everything up in the right way, we were able to test a connection from one client to the server.</p>

<p>After we managed to tune the correct settings (buffer size etc.) to get rid of artifacts, the audio quality was very good.</p>

<p>In order to test the latency, we played a steady drum track from the client, to which Thomas (the server) played guitar on top. The audio that Thomas sent back to the client was close to half a beat off, so we quickly concluded that the latency was too high to be able to play in synchronization with each other. However, the network specs on the client side was lower than what Ben Loveridge recommended in his guide, so it may be possible to do this if all peers have a sufficient internet connection.</p>

<p>We didn’t manage to connect the third peer (due to poor support for Jack on Windows), but as Jacktrip is peer-to-peer this would likely have required an even faster internet connection. In addition, this configuration requires an ethernet cable, which is a small but very important requirement for this technology. Because audio information must be sent in a continuous stream (for the audio itself to be coherent), a wireless connection is not an option as it allows packets to be lost compared to ethernet, a lossless connection.</p>

<h2 id="concluding-thoughts">Concluding thoughts</h2>
<p>Here our some of out thoughts concerning Jacktrip:</p>
<ul>
  <li>Definitely not plug and play</li>
  <li>The installation needs to be simplified extensively
There were several people mentioning ways this could be done in this thread: https://groups.google.com/forum/m/#!topic/jacktrip-users/KrhojQxYy_w</li>
  <li>Once everything was set up, it was fairly easy to understand how things were connected. However, even the patchbay GUI could be better designed</li>
  <li>One needs an ethernet connection and decent internet connection</li>
  <li>Fairly easy to use once the connection is made. JackTrip shows up as an audio device that you send/receive to, so it’s quite easy to configure for your own use.</li>
</ul>

<p>Jacktrip might be the most robust project for large networked performances, but it is quite reliant on technical competence and a good internet connection from every party involved. It is also unfortunate that such an essential tools hasn’t been seriously updated/maintained for over a year, as it seems quite well referenced online.</p>

<h2 id="resources">Resources</h2>

<ol>
  <li>The official GitHub repository: https://github.com/jacktrip/jacktrip. Although there exist several versions of the Jacktrip repository, this seems to be the most recently maintained at the time of writing. Chris Chafe, the main author of Jacktrip, announced this in the Google Forum mentioned below</li>
  <li>The official GitLab repository: https://cm-gitlab.stanford.edu/cc/jacktrip</li>
  <li>Ben Loveridge. Networked Music performance: A step-by-step guide to real-time  musical collaboration over the internet: https://docs.google.com/document/d/18pbu2xQRv521NKvHuYHjIVXRcLFqcDsqYnfKixyuyGg</li>
  <li>Google Forums for the Jacktrip user group: https://groups.google.com/forum/m/#!forum/jacktrip-users</li>
  <li>Jacktrip manual: https://sites.google.com/site/jacktripdocumentation/home</li>
</ol>
</div>

  

  <a class="u-url" href="/networked-music/2020/03/31/jacktrip.html" hidden></a>
</article>

<script src="/utils/slideshow.js"></script>
<script src="https://unpkg.com/wavesurfer.js@5.0.1/dist/wavesurfer.js"></script>
<script src="/utils/waveform.js"></script>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The SMC Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The SMC Blog</li><li><a class="u-email" href="mailto:cer@create.aau.dk">cer@create.aau.dk</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/smc-aau-cph"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">smc-aau-cph</span></a></li><li><a href="https://www.twitter.com/smc-aau-cph"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">smc-aau-cph</span></a></li><li><a href="https://youtube.com/c/smc-aau-cphr/videos"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#youtube"></use></svg> <span class="username">SMC_master</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS feed</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>The student-led blog of the Aalborg University Copenhagen (AAU-CPH) master&#39;s programme in Sound and Music Computing (SMC).</p>
      </div>
    </div>

  </div>

</footer>


    <!-- include comments here -->

  </body>

</html>
